

#### CAS：compare and swap,比较并交换（原子性操作，对应CPU指令为cmpxchg）

#### 操作：三个操作数，当前值A、内存值V、要修改的新值B

1. 假设当前值A跟内存值V相等，那就将内存值V改为B
2. 假设当前值A跟内存值V不相等，要么就重试，要么就放弃更新
3. 将当前值和内存值比较，判断是否有被修改过，cas核心

#### CAS ABA问题：假设线程A读到当前值10，可能线程B把值修改为100，然后线程C又把值改为10，等到线程A拿到执行权时，因为当前值和内存值一致，线程A可以修改的

#### CAS ABA问题解决方案 java提供AtomicStampedReference,即加个版本，比对内存值+版本是否一致